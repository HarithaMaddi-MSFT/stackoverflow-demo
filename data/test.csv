57390922,Configuring WAF on Azure Front door services <p>I'm setting up WAF rules for azure front door services provided by Microsoft Azure. Currently  I'm using default ruleset 1.0 provided OTB to block top 10 OWSAP threats.  </p>  <p>When default rules are enabled  we observe 403 error and not able to understand which policy is blocking the request.</p>  <p>Any change to WAF policy takes minimum 7 to 15 minutes to get applied. I need to understand if there is any efficient way to make the change and test. </p>  <p>What is the best possible way to determine what ruleset needs to be enabled or disabled ?</p>  <p>We tried enabling all ruleset and website started throwing 403 error. Currently  we are enabling one rule at a time and verifying if the rule  blocks any requests.</p>,azure-web-app-service
46976443,"dotnet restore takes too long on VSTS <p>I have asp.net core 2.0 app  which references Microsoft.AspNetCore.All metadata package</p>  <pre><code>&lt;PackageReference Include=\Microsoft.AspNetCore.All\"" Version=\""2.0.0\"" /&gt; </code></pre>  <p>and I have following build in VSTS which I build using hosted build agent.</p>  <p>Why it always takes min 95 seconds to restore the packages? I thought that </p>  <ol> <li><code>Microsoft.AspNetCore.All</code> packages are cached in \"".NET Core runtime store\"" so they don't have to be restored.</li> <li>When I restore the packages once  they don't have to be be restored again in every build  since they are cached.</li> </ol>  <p><a href=\""https://i.stack.imgur.com/6SQom.jpg\"" rel=\""noreferrer\""><img src=\""https://i.stack.imgur.com/6SQom.jpg\"" alt=\""enter image description here\""></a></p>  <p>Why is dotnet restore so slow in VSTS?</p>  <p>Edit:  Vote for better VSTS build performance here: <a href=\""https://visualstudio.uservoice.com/forums/330519-visual-studio-team-services/suggestions/32044321-improve-hosted-build-agent-performance\"" rel=\""noreferrer\"">https://visualstudio.uservoice.com/forums/330519-visual-studio-team-services/suggestions/32044321-improve-hosted-build-agent-performance</a></p>""",azure-devops
27467314,"Visual Studio Team Services REST - Filter Changesets within a project only <p>I trying to use the Visual Studio Team Services REST api to retrieve a list of changesets for my project. I am using the following uri:</p>  <pre><code>https://&lt;account&gt;.visualstudio.com/defaultcollection/_apis/tfvc/changesets </code></pre>  <p>While the above allows me to get a list of changesets for the entire <em>project collection</em> I am unable figure out how to filter them out for a particular <em>project</em>. That is  retrieve all the changesets within a particular project only.</p>  <p>The VSTS documentation <a href=\http://www.visualstudio.com/integrate/reference/reference-vso-version-control-changesets-vsi#Getlistofchangesets\"" rel=\""nofollow noreferrer\"">here</a> does not provide an example to filter by a project.</p>""",azure-devops
57005046,What happens if multiple azure function apps bind to the same storage queue for input <p>I have function apps running in two different regions for redundancy. i.e. there are two separate apps in azure portal (deployed from the same code). So both apps have the function that input binds to the same storage queue. Would all messages be delivered to both or would the messages get split between the two?</p>  <p>I am using C#  dotnet core  and Functions 2.0.</p>,azure-functions
47274344,Linking an existing repository to Visual Studio Team Services repository (Github to VSTS migration) <p>We are currently in the process of moving all of our repositories over to VSTS from Github which has been great and easy so far but are now running into the small problem of linking our old local repositories to the new ones in VSTS.</p>  <p>So technically they should be the exact same files except for the local ones that we weren't committing up to Github in the first place (Which we'd like to not have to manually copy back and forth). Is there a way to link these local repositories to the new ones in VSTS?</p>,azure-devops
57082850,"Azure Function to use Windows Authentication for On-Premises SQL DB <p>We already have an express route configured between azure and our local domain. Local AD is also synced with Azure AD. Azure Function is under a VNet which can access on-premises resources. </p>  <p>The problem is when Azure Function tries to access on-premises SQL using Windows Authentication  it gets the error \<em>Logon Failed</em>\"" (which proves that the server is accessible but the user doesn't have permission). Event Log shows <strong>DWASSVC</strong> as the account trying to access DB.</p>  <p>Is there a way we can change the context of Azure Function to run under a specific user which has access to on-Premises SQL DB and any call from Azure Function is generated under that account?</p>""",azure-functions
57480794,"Strange deadtimes in app services requests? <p>We are developing an app service over Azure with Web API and .NET framework 4.6.2. We're doing some load test and these are giving us some spikes. </p>  <p>If we go deep in the transactions that are returning these spikes  we can see this:</p>  <p><img src=\https://gyazo.com/b1fd97128e58a1989394388be2888fd6.png\"" alt=\""RequestSample\""></p>  <p>As you can see  after returning the response (we check this with an event just before the return) there is a lot of time wasted in something. <b>What is this something and how can we avoid it?</b></p>  <p>Less times this wasted time happens before processing the request as you can see here:</p>  <p><img src=\""https://gyazo.com/5ddb4ae0cc27a64d45c1b62eaecb865d.png\"" alt=\""RequestSample2\""></p>  <p>Going even deeper (but in others requests)  into the profiler traces  we find \""Unmanaged Async\"". But we don't understand very well what is that and the way to avoid it. Can this \""Unmanaged Async\"" be the cause of the wasted time?</p>  <p><img src=\""https://gyazo.com/861fd28fcd78bd1c5500f3100adccfbd.png\"" alt=\""ProfilerTrace\""></p>""",azure-web-app-service
50971911,Host name and port for Python Websockets on Azure Web Apps <p>Spoiler  I am quite new to this. So my question might be stupid.</p>  <p>Anyways  I am currently using the 'Websockets' API for Python 3.5 in a project that will be hosted on a Azure Web App. When creating the Websocket server using <code>websockets.serve(WS_HANDLER  HOST  PORT)</code> I want to specify the host somehow. For envelopment I just set it as localhost with port 8xxx  but I am struggling to know which <code>HOST</code> and <code>PORT</code> to use in production/deployment. I assume that you can access the <code>HOST</code> via som OS variable  but I can't find any information regarding it. Or is all of this handled by the <code>web.config</code> file?</p>,azure-web-app-service
51195286,"Azure web app can't see VM through vnet-to-vnet connection <p>I have a VM running a WebAPI service that I want to hit from an Azure web app using a vnet-to-vnet conneciton. As such  I have the VPNs configured as follows:</p>  <h2>Virtual Machine - VMVnet</h2>  <pre><code>Address Space: 10.1.0.0/16 Subnet: 10.1.0.0/24 Gateway Subnet: 10.1.1.0/27 Private IP: 10.1.0.4 </code></pre>  <p>I also opened the target port up in Windows Firewall.</p>  <h2>Web App - AppVnet</h2>  <pre><code>Address Space: 10.2.0.0/16 Subnet: 10.2.0.0/24 Gateway Subnet: 10.2.1.0/27 </code></pre>  <p>I also have Virtual Network Gateways configured for both  each with a connection going to the other.</p>  <p>Now  after I connect the app to AppVnet and sync the routes from the app service plan's networking section  I should be able to hit the VM using its private IP from the app code. When I try  I get the following error:</p>  <pre><code>An attempt was made to access a socket in a way forbidden by its access permissions </code></pre>  <p>I also tried setting up <a href=\https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview\"" rel=\""nofollow noreferrer\"">Virtual Network Peering</a> between the networks  but that didn't work either.</p>  <p>Is what I'm trying to do even possible with Azure web apps? I saw <a href=\""https://stackoverflow.com/questions/49145308/azure-app-service-and-vnet-to-vnet-connectivity\"">this question</a>  which seemed like what I was looking for but the information in it is a bit lacking.</p>  <p>If not  I <em>have</em> tried this with a point-to-site configuration with the app connected to the VM's vnet  and it worked fine. Would it be preferable to set up a second nic on the VM using the AppVnet and connect all apps through that?</p>""",azure-virtual-machine
41064951,"Can we Connect to mongodb on Azure windows VM from another Azure windows VM <p>I'm working on a NodeJS project that using Azure VM to deploy. want to connect and communicate between 2 virtual machines which are in a group. so i can use the one vm for data and 2nd for web I've created a config file .yaml for mongo with all the parameters like   </p>  <pre><code>systemLog:    destination: file    path: \logs path\""    logAppend: true storage:    dbPath: \""datapath\"" security:    authorization: \""enabled\"" net:   port: 27017   bindIp: 127.0.0.1 </code></pre>  <p>Does anybody have experience in configuring mongodb on Azure VM which has windows? </p>""",azure-virtual-machine
54059432,"SharePoint PNP/JS Azure Function cant get list items <p>In have created an Azure function in Visual Code following this example(<a href=\https://simonagren.github.io/azurefunction-v2-pnpjs/\"" rel=\""nofollow noreferrer\"">https://simonagren.github.io/azurefunction-v2-pnpjs/</a>). But the code below returns an empty array. I'm using pnp/sp and pnp/nodejs</p>  <pre><code>sp.setup({     sp: {         fetchClientFactory: () =&gt; {             return new SPFetchClient(               `https://[mydomain].sharepoint.com/sites/[mysite name]/`                 process.env.spId                 process.env.spSecret);         }      }  });  const leaders = await sp.web.lists.getByTitle(\""LeaderGroup\"").items.get(); context.res = {     // status: 200  /* Defaults to 200 */     body: \""Result: \"" + leaders.map( l=&gt;l.Leader).join(' ') }; </code></pre>  <p>If a use another pnp endpoint const web = await sp.web.select(\""Title\"").expand('Lists').get();  I get all the lists form the web as expected. What am I doing wrong? I've used this method before in spfx/react webparts without any problems.</p>""",azure-functions
35703638,"Why I can't ping Azure VM from my local PC <p>I have a Windows VM on Azure and I don't understand why my <strong>ping times out</strong>. I found a probable reason: on Azure portal I see public IP \40.127.163.20\""  but inside VM when I do ipconfig I see different IP that is strange.</p>  <p>Do you have any ideas?</p>  <p><a href=\""https://i.stack.imgur.com/WY6Au.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/WY6Au.png\"" alt=\""enter image description here\""></a></p>""",azure-virtual-machine
54223637,"How can I use a custom DNS server in Azure App Services with Linux? <p>I have a .NET Core API App running in Azure App Services using Windows  but now I want to test it using Linux. The app uses a custom DNS Zone just to map a custom hostname to a specific IP address.</p>  <p>To implement that in my Windows App Service I used the following Application Settings as stated in <a href=\https://github.com/MicrosoftDocs/azure-docs/issues/13927\"" rel=\""nofollow noreferrer\"">this page</a>: <code>WEBSITE_DNS_SERVER</code> and <code>WEBSITE_ALT_DNS_SERVER</code>. Although it looks like a workaround  it works pretty well with Windows App Services. But in Linux it seems to have no effect and my app is not resolving the hostname as needed.</p>  <p><strong>How can I use a custom DNS server in Azure App Service with Linux or add a custom hostname like editing the hosts file?</strong></p>""",azure-web-app-service
55539035,"Double (?) HTTP PUT Request with Dropzone.js? <p>I am trying to utilize Dropzone.js with Azure Storage and ASP.NET to upload a file to Azure Storage using SAS. </p>  <p>I can create and pass the SAS URL just fine to the view that's using Dropzone.js to upload the file. I can even successfully make an HTTP PUT request and upload the file  however  I think there is something wrong with the code  despite the fact that it does what it's supposed to. </p>  <pre><code>&lt;form class=\dropzone\"" id=\""file-upload\"" action=\""@Model.ContainerURI\""&gt;&lt;/form&gt;   @section Scripts {     &lt;script type=\""text/javascript\""&gt;          Dropzone.options.fileUpload = {            //autoProcessQueue: false              paramName: \""file\""              method: 'put'              headers: {                 \""x-ms-blob-type\"": \""BlockBlob\""             }              clickable: true              uploadMultiple: true              maxFiles: 5              init: function () {                 this.on(\""addedfile\""  function (file) {                     console.log('File Added!');                     console.log(file);                 });                  this.on(\""processing\""  function (file) {                     var cloudURL = this.options.url;                     var fileName = file.name;                     var hostURL = cloudURL.split(\""?\"")[0];                     var sas = cloudURL.split(\""?\"")[1];                     var fullURL = hostURL.concat(\""/\""  fileName  \""?\""  sas);                     console.log(\""full URL is: \""  fullURL);                     this.options.url = fullURL;                 });                  this.on(\""sending\""  function (file) {                     console.log(\""In sending function\"");                     xhr = new XMLHttpRequest();                      xhr.open(\""PUT\""  this.options.url);                     xhr.setRequestHeader(\""x-ms-blob-type\""  \""BlockBlob\"");                     xhr.send(file.data);                 });             }         };      &lt;/script&gt; } </code></pre>  <p>The <code>@Model.ContainerURI</code> is a <code>SAS</code> token generated from Azure Storage. Currently  the Azure Storage <code>CORS</code> config is <code>*</code> for <code>PUT</code>  which should be all I need. The above code works (minus the fact that it doesn't send file data if text file)  but it seems as though I'm making the <code>PUT</code> request twice  which seems awfully unnecessary. I noticed that if I don't include method: <code>PUT</code> in my <code>Dropzone.options.fileUPload</code>  I receive a <code>CORS</code> error. And if I leave out <code>xhr.setRequestHeader(\""x-ms-blob-type\""  \""BlockBlob\"");</code> in the sending function  it comes back with a <code>400</code> saying that one of the required headers is missing. But  when I use the code exactly as above  everything uploads fine with no errors.</p>  <p>I am certain I am not 100% certain what Dropzone.js is doing for me under the hood  and would explain the messy HTTP request. Could anyone provide clarification on when to use <code>processing</code> vs <code>sending</code> tasks of <code>Dropzone.js</code>  and when it might be best to use both? Mostly  I just think I need a better understanding of what Dropzone is doing for me  and how I can work with it to fit my needs.</p>""",azure-storage
43467742,How can I clear nuget cache in Azure Functions <p>How can I clear nuget cache in Azure Functions? Some changes happend to our nuget package but version wasn't changed. (The package in dev now  and we can't change the version now  it should be the same) </p>,azure-functions
38979663,"Set-AzureRmNetworkInterface : Private static IP address does not belong to the range of subnet prefix <p>I have recently created a virtual machine in Azure where I have installed WordPress and MySQL in it. I have created a Web App too. Now I need to assign my static Web App IP address to the Virtual machine I created. I tried the following commands but no luck there. </p>  <pre><code>New-AzureReservedIP –ReservedIPName IP –Location \South Central US\"" -ServiceName ServName </code></pre>  <p>I am using latest Azure Powershell in my virtual machine. When I search for a solution people are saying the commands I used are not compatible with the latest powershell. So I used the commands explained <a href=\""https://azure.microsoft.com/en-us/documentation/articles/virtual-networks-static-private-ip-arm-ps/\"" rel=\""nofollow\"">here</a> as follows.</p>  <pre><code>$nic=Get-AzureRmNetworkInterface -Name networkinterfacename -ResourceGroupName resouorcegrpupname $nic.IpConfigurations[0].PrivateIpAllocationMethod = 'Static' $nic.IpConfigurations[0].PrivateIpAddress = 'ip address' Set-AzureRmNetworkInterface -NetworkInterface $nic </code></pre>  <p>But when I run I am getting error as  Set-AzureRmNetworkInterface : Private static IP address does not belong to the range of subnet prefix 10.0.0.0/24.</p>  <p>Any help is much appreciated. Thanks in advance.</p>  <p>Note : I have logged in to the Powershell and I am able to run the commands Add-AzureAccount  Select-AzureSubscription  Get-AzureStorageAccount.</p>""",azure-web-app-service
35867586,"Host a web site in an Azure VM <p>I have a Azure VM. Using the IIS  I host a website in the VM.</p>  <p>How can I access that website via the DNS name (like <a href=\http://abc.cloudapp.net/\"" rel=\""nofollow noreferrer\"">http://abc.cloudapp.net/</a>) I know this is the most unlikely  we should use the \""web role\""  but I really need this works  is this possible?</p>  <p>I tried with the localhost  it works  the internal IP works  but the DNS name doesn't.</p>  <p>Edited to provide more info (March 09): I have already have endpoints setup. \""binding\"" uses the dns name. I have two website  one hosted in the port 8081  it works. Another one hosted in the port 80  which doesn't work.</p>  <p>http endpoints <a href=\""https://i.stack.imgur.com/cNdYn.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/cNdYn.png\"" alt=\""enter image description here\""></a></p>  <p>the port 80 doesn't work <a href=\""https://i.stack.imgur.com/Q5VVd.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/Q5VVd.png\"" alt=\""enter image description here\""></a></p>  <p>the port 8081 works <a href=\""https://i.stack.imgur.com/4joPx.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/4joPx.png\"" alt=\""enter image description here\""></a></p>""",azure-virtual-machine
51442481,Can an app targeting .net framework 4.7.2 be safely run on .net framework 4.7.1? <p>I have this issue in which I'm currently targeting .NET Framework 4.7.2 in my solution but the Azure Web App Service only supports up to .NET Framework 4.7.1.  So  my question is this:  As long as I only use 4.7.1 features  should it work without issue on the Azure Web App Service (which only supports up to 4.7.1) even though I'm targeting 4.7.2?  Are the .NET Frameworks backwards compatible?  So far  I haven't seen any issues.  I just want to make sure there will be no future complications.  Ideally  I would like to keep targeting 4.7.2 so that I can start using the 4.7.2 features once it becomes available on Azure Web App Service.</p>,azure-web-app-service
57045686,"Why is Consumption Plan not selectable for me when creating a new Function App? <p>I'm following the official Microsoft documentation to <a href=\https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-azure-function\"" rel=\""nofollow noreferrer\"">create my first Azure Function App</a>. My problem is that I cannot create <strong>a Function App that uses the Consumption Plan</strong> instead of an App Service plan. I only have the option to select one of my <strong>App Service plans</strong>.</p>  <p>Can somebody explain why I do not have the option to choose the <strong>Consumption plan</strong>? It's the option I want to use because I think that this option is best for my project.</p>  <p>That's how it should be:</p>  <p><a href=\""https://i.stack.imgur.com/1jhbc.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/1jhbc.png\"" alt=\""Hosting Plan option available\""></a></p>  <p>And that's how it looks in my portal:</p>  <p><a href=\""https://i.stack.imgur.com/1caMI.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/1caMI.png\"" alt=\""Hosting Plan option not available\""></a></p>  <p>As you can see the option to choose the <strong>\""hosting plan\""</strong> is completely missing for me.</p>  <p>Why is that the case and how can I create a Function app that uses the Consumption plan?</p>""",azure-functions
54514621,Azure Application gateway with web apps <p>I have setup a Azure Application Gateway in front of an Azure Web Application. I have added a IP restriction on Web app allowing access only from the Application gateway's public IP address. This works fine but the when I add the public IP address on the browser it re-directs to the web app's URL. How can I stop the application gateway redirecting to the web app URL but to return the response against the public IP?</p>,azure-web-app-service
23211660,Azure SQL web server - virtual machine   server agent stops it self and so the jobs scheduled <p>With using Windows Azure SQL web server - virtual machine   I have small size SQL web server - VM for multiple databases.</p>  <p>I have noticed that server agent stops it self some how   and so the scheduled jobs were not executed on time.</p>  <p>Any solution / suggestion on this ? </p>,azure-virtual-machine
51628367,"how can you upload files to an Azure Web Apps virtual directory? <p>how can you upload files to an Azure Web Apps virtual directory ?</p>  <p>I created a virtual directory for example called \\UAT but when i log  on via ftp its not visible ?</p>  <p><a href=\https://i.stack.imgur.com/FSC3L.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/FSC3L.png\"" alt=\""enter image description here\""></a></p>""",azure-web-app-service
56767733,"ASP.NET Core 2.1 Handling ServiceScope usage with dependencies on WebSocket middleware's every incoming messages <p>I have some performance issue on using websockets on ASP.NET Core 2.1</p>  <p>At first  I have an implementation of websockets similar to this example: <a href=\https://radu-matei.com/blog/aspnet-core-websockets-middleware/\"" rel=\""nofollow noreferrer\"">https://radu-matei.com/blog/aspnet-core-websockets-middleware/</a></p>  <p>On every incoming websocket message  I have it to parse  call some services  send a message back to websocket.</p>  <pre><code>if (result.MessageType == WebSocketMessageType.Text) {    using (var scope = service.CreateScope())    {       var communicationService = scope.ServiceProvider.GetSomeService();        await communicationService.HandleConnection(webSocket  result  buffer);    } } </code></pre>  <p>So as you see on every incoming message I am creating a new Scope  getting Service provider and then calling services on this service's method communicationService.HandleConnection. But if there is a lot of messages  my Azure WebService CPU goes up to 100%. Can someone tell me if I am using these scope creations correct on every socket message?</p>""",azure-web-app-service
17694971,"Web Role internal server error (500.22) <p>When running the Compute Emulator  I am getting the following error when trying to access the web role:</p>  <blockquote>   <p>HTTP Error 500.22 - Internal Server Error</p>      <p>An ASP.NET setting has been detected that does not apply in Integrated   managed pipeline mode.</p> </blockquote>  <p>Screenshot:</p>  <p><img src=\https://i.stack.imgur.com/BTLus.png\"" alt=\""enter image description here\""></p>  <p>The website runs fine itself.  This only occurs when I run it in the emulator.</p>  <p>I found a good answer for <a href=\""https://stackoverflow.com/questions/7370513/http-error-500-22-internal-server-error-an-asp-net-setting-has-been-detected\"">500.22 problems here</a>  but surely there must be something wrong with my Azure environment or cloud service?</p>  <p>Thanks</p>""",azure-storage
46163843,Azure app service <p>I have two app services. In both the app services I have a common folder that needs to be accessed.  For example  lets assume that in the first app service I am adding a business and it stores in the location D:\home\site\wwwroot\business. From the second app service I would need to access the files in D:\home\site\wwwroot\business of the first app service. Appreciate the help in advance.</p>,azure-web-app-service
44812701,Can you rebuild node_modules on azure linux app service <p>The node_modules directory has been corrupted on on our azure linux app service - someone accidentally checked it into git and deployment picked it up and hosed a bunch of stuff. The end result now is that during a deploy we get file not found errors referring to node_module files that are not there. Mkdirp is playing up big time for example. Is there anyway to rebuild the node_modules on a linux instance like this?</p>  <p>Thanks! </p>,azure-web-app-service
49729863,Can Atlassian read/copy my source code by using SourceTree <p>I have a question: </p>  <p>Will our code pass through Atlassian servers when I use <strong>SourceTree</strong> in combination with <strong>Visual Studio Online</strong>. I added my <strong>access token</strong> to the git repository connection string in SourceTree. Will the SourceTree application download direct or will it read my code and maybe keep a back-up somewhere or pass it through Atlassian Servers.</p>  <p>This question is because we do not want other companies to read our code at this moment. Is it safe to use SourceTree at this time with the above in mind?</p>,azure-devops
55202852,"How to ignore files when doing commit from VS to Mac to VSTS? <p>I'm working on a ASP.Net MVC project in Visual Studio for Mac. The version control we are using is <strong>Azure DevOps</strong> (previously called VSTS). So  I have checkout the code and did some modifications.</p>  <p>The thing here is that every time I edit something  VS to Mac shows some additional files to commit. Usually .dll  .pdb  .cache files  etc.</p>  <p>Is there a way to ignore those files when committing the original changes? Or is it normal?</p>  <p><a href=\https://i.stack.imgur.com/SYMcg.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/SYMcg.png\"" alt=\""Commit view in Vs to Mac\""></a></p>""",azure-devops
49445213,"Build tokens are not resolving for VSTS Gradle build task <p>In order to have unique version codes for android build  we are passing the version code as a parameter in gradle build task. Parameter value is in the following format: $(Year:yy)$(DayOfYear)$(rev:r).</p>  <p>Build command from the logs:</p>  <p>[command]C:\\Windows\\system32\\cmd.exe /D /S /C \D:\\a\\3\\s\\gradlew.bat \""-PversionCode=$(Year:yy)$(DayOfYear)$(rev:r)\"" build\""</p>  <p>The build tokens are not resolved.Error details as below:</p>  <p>A problem occurred evaluating project ':app'. For input string: \""$(Year:yy)$(DayOfYear)$(rev:r)\""</p>""",azure-devops
19102337,"Connecting SQL Server Virtual Machine to Web Role in same Azure Virtual Network <p>I'm attempting to set up a Virtual Network in Windows Azure and use it to avoid opening a public endpoint on my (CUSTOM) SQL Server Virtual Machine. However  I continuously get a network related error  stating that the SQL Server wouldn't talk back in time  when trying to access my web application via my cloud service's URL.</p>  <p>I've looked all over the net for tutorials that show how to connect to one's own Custom-created VM instead of one of Windows Azure's preconfigured Virtual Machines  and found little of use. All the suggestions I've found I've tried.</p>  <p>I am working in Windows 7  using Visual Studio 2010 with the Windows Azure SDK installed  SP1.<br> Here are some details of what I have attempted to do to no avail.</p>  <p>I have:</p>  <ul> <li>created the Virtual Network with<br> <ul> <li>its own Affinity Group  </li> <li>a single Subnet  </li> </ul></li> <li>added the Virtual Machine to it <ul> <li>making sure to put it in the same affinity group as the one I created for the VNet  </li> </ul></li> <li>installed SQL Server</li> <li>configured SQL Server as per <a href=\http://msdn.microsoft.com/en-us/library/windowsazure/jj823135.aspx\"" rel=\""nofollow\"">this tutorial</a></li> <li>Added my databases and a login that I have verified can access the database</li> <li>Both: <ol> <li>Converted an existing Asp.NET Website to a Web App and added a Azure Deployment Package thing <a href=\""http://blogs.msdn.com/b/zkap/archive/2012/07/29/how-to-migrate-an-existing-asp-net-website-to-windows-azure.aspx\"" rel=\""nofollow\"">see here for the tutorial I followed</a> <ul> <li>I used <code>r-click-&gt;Publish to Azure/Publish</code> for this one  configured to use an existing Cloud Service I had already deployed in the VNet with the SQL VM  and made sure it was in the same Subnet as the VM.</li> <li>it is also worth noting that this application did connect to a similar VM that was deployed outside the Virtual Network (still in Azure) by opening a public endpoint on port 1433 and using the Public IP address to connect to it.</li> </ul></li> <li>Used the converted Web App's code in a brand new Azure Cloud Service project configured as per <a href=\""http://msdn.microsoft.com/en-us/library/windowsazure/jj823135.aspx\"" rel=\""nofollow\"">this tutorial (the first one I mentioned)</a> <ul> <li>I attempted both publishing by: <ul> <li><code>r-click-&gt;Publish to Azure/Publish</code></li> <li><code>r-click-&gt;Package</code> and uploading it on the Azure Portal</li> </ul></li> <li>in both cases both to <ul> <li>an existing Cloud Service in the VNet (and Subnet)</li> <li>and a brand new Cloud Service created in the VNet (and Subnet) and upload package during creation or immediately publish to service as soon as started.</li> </ul></li> </ul></li> </ol></li> <li><p>Double checked that all Cloud Services and Virtual Machines I've gone through were in the VNet  and in the same Subnet.</p>  <ul> <li><p>My Cloud service is usually at internal IP 10.4.2.5  and the VM at 10.4.2.4. My connection string is the same as <a href=\""http://msdn.microsoft.com/en-us/library/windowsazure/jj823135.aspx\"" rel=\""nofollow\"">the first tutorial I mentioned</a> only with the proper authentication and my VM's internal IP specified. Connection string follows:</p>  <pre><code>&lt;add name=\""SQLServerinWAConnection\"" connectionString=\""Data Source=tcp:SQLVMInternalIPAddress;Initial Catalog=MyTableName;User ID=loginName;Password=thepassword;Encrypt=true;Trusted_Connection=false;TrustServerCertificate=true\"" providerName=\""System.Data.SqlClient\"" /&gt; </code></pre>  <ul> <li>I also tried specifying <code>Trusted_Connection=true</code></li> </ul></li> </ul></li> </ul>  <p>No matter what I try  I cannot get this application to connect to the SQL Server instance on that VM. I have even added a public endpoint to the VM at port 1433 and tried using its public IP and private IP  to no avail. That was my fallback  so now I'm at a serious loss.  </p>  <p>Some implementation details that may or may not have any bearing:</p>  <ul> <li>The SQL Server instance is named  not default  so instead of just 'SQLServerVM' in the object explorer in SQL Server Management Studio  it has 'SQLServerVM\\SQLServerDB'.</li> <li>I have the port 1433 opened on the firewall on the VM for any IP range and any user</li> </ul>  <p>I will add any additional details (in case you don't want to read the whole tutorials to figure out what I've done) upon request.</p>  <p>There isn't by any chance a checklist available to state the things which need to be done for a web role or website to be able to connect to a virtual machine in its virtual network? That would greatly simplify troubleshooting.</p>  <p>Any suggestions would be greatly appreciated. I would very much like to have this working by the end of the day.</p>""",azure-virtual-machine
24445828,Migrating on-premise TFS 2012 to VSO with free opshub tool <p>We are moving from on-premise tfs 2012 to the visual studio online environment. For this we need to move a lot of projects  most of them aren’t a problem with the free opshub tool.</p>  <p>But 2 of our projects are really big and the tool would take about 8~9 days to complete the migration  which is too long for us.</p>  <p>What I would like is the following:</p>  <ul> <li>Start the migration from on-premise to vso </li> <li>Keep working in the on-premise  </li> <li>After the migration has finished  migrating the commits that were made in the last 8~9 days.</li> </ul>  <p>I’m not sure the free opshub tool supports something like this. Is there a way to do this with the free tool? If so how does this work?</p>,azure-devops
41682393,"Simple PHP cURL file upload to Azure storage blob <p>I have issues to create a new/simple PHP script/function with cURL to upload simple file (image.jpg) from local server to Azure storage - blob container using Shared Key authentication. I do not want (for other reasons) use SDK and/or multiple files/libraries. I need only one function - fileUpload - and that is it.</p>  <p>Documentation does not provide complete example for upload (POST) with file overwrite. <a href=\https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/authentication-for-the-azure-storage-services\"" rel=\""nofollow noreferrer\"">https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/authentication-for-the-azure-storage-services</a></p>  <p>It is also unclear what are required headers to have  and what are required headers to have for signature / authentication attribute. (multiple MSDN sites with different headers  for instance - <a href=\""https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/put-blob\"" rel=\""nofollow noreferrer\"">https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/put-blob</a></p>  <p>Does someone has simple example on this that would like to share?</p>  <pre><code>&lt;?php error_reporting(E_ALL); ini_set('display_errors'  'On'); date_default_timezone_set('UTC');  $destinationURL = 'https://mystorage.blob.core.windows.net/blob1/image.jpg'; $accesskey = \""qJXTMmw2Esal8/tXgfWk0RLwMNJ6OQKEt0E8EMZ8VhQrzGi5uqJqeKvi1l7iqnOddp7bdtai5rPpC6ynHttl1w==\""; $storageAccount = 'mystorage'; $filetoUpload = realpath('./image.jpg');  function upload($filetoUpload  $storageAccount $destinationURL $accesskey) {     $currentDate = date(\""D  d M Y H:i:s\"");      $postFields = array(         'extra_info' =&gt; '123456'          'file_contents'=&gt;'@'.$filetoUpload     );      $headerText=\""\""         .\""x-ms-version: 2015-02-21\\n\""           .\""x-ms-date:\"" .$currentDate.\"" GMT\\n\""         .\""Content-Type: text/plain; charset=UTF-8\\n\""           .\""x-ms-blob-content-disposition: attachment; filename=\"".$filetoUpload.\""\\n\""           .\""x-ms-blob-type: BlockBlob\\n\""           .\""x-ms-meta-m1: v1\\n\""           .\""x-ms-meta-m2: v2\\n\""           ;      $hash = hash_hmac('sha256'  $headerText  base64_decode($accesskey)  true);     $sig = base64_encode($hash);      $headerText.=\""Authorization: SharedKey \"".$storageAccount.\"":\"".$sig.\""\\n\"";     $headerText.=\""Content-Length: 280\"";     $headers = explode(\""\\n\""  $headerText);      $ch = curl_init();     curl_setopt($ch  CURLOPT_SSL_VERIFYPEER  false);     curl_setopt($ch  CURLOPT_SSL_VERIFYHOST  false);     curl_setopt($ch  CURLOPT_URL  $destinationURL);     curl_setopt($ch  CURLOPT_CUSTOMREQUEST  \""PUT\"");     curl_setopt($ch  CURLOPT_POSTFIELDS  $postFields);     curl_setopt($ch  CURLOPT_RETURNTRANSFER  1);     curl_setopt($ch  CURLOPT_HTTPHEADER  $headers);     $result = curl_exec($ch);     echo ('Result&lt;br/&gt;');     print_r($result);     echo ('Error&lt;br/&gt;');     print_r(curl_error($ch));     curl_close ($ch); return; }  upload($filetoUpload  $storageAccount $destinationURL $accesskey); </code></pre>""",azure-storage
48292675,"VSTS URL load test results - understanding requests per second <p>I have a simple URL-based load test defined in VSTS (Visual Studio Online) that goes through 4 pages of the site I'm testing. I'm trying to understand how the tests are repeated because the Throughput chart is showing that it's making around 10 000 requests per second (blue line)  regardless of the number of virtual users (orange line):</p>  <p><a href=\https://i.stack.imgur.com/bcExJ.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/bcExJ.png\"" alt=\""Throughput chart of my load test\""></a></p>  <p>I was expecting requests/second to grow linearly in step with the number of users?</p>""",azure-devops
48412779,"Azure SAS Token for Webjob DashboardConnectionString and StorageConnectionString <p>Azure web jobs want me to set AzureWebJobsDashboard and AzureWebJobsStorage properties on startup but  i do not want to expose AccountKey in code. When I try to use SAS Token  JobHostConfiguration class trying to parse SAS Token and throws exception</p>  <pre><code> var config = new JobHostConfiguration();             config.DashboardConnectionString = ConfigurationManager.GetSetting(KeyVaultSecrets.StorageReadWriteConnectionString);             config.StorageConnectionString = ConfigurationManager.GetSetting(KeyVaultSecrets.StorageReadWriteConnectionString); </code></pre>  <p>Exception</p>  <blockquote>   <p>System.InvalidOperationException occurred     HResult=0x80131509     Message=Failed to validate Microsoft Azure WebJobs SDK Dashboard connection string. The Microsoft Azure Storage account connection string is not formatted correctly. Please visit <a href=\http://msdn.microsoft.com/en-us/library/windowsazure/ee758697.aspx\"" rel=\""nofollow noreferrer\"">http://msdn.microsoft.com/en-us/library/windowsazure/ee758697.aspx</a> for details about configuring Microsoft Azure Storage connection strings.     Source=     StackTrace:      at <strong>Microsoft.Azure.WebJobs.Host.Executors.StorageAccountParser.ParseAccount</strong>(String connectionString  String connectionStringName  IServiceProvider services)      at Microsoft.Azure.WebJobs.Host.Executors.DefaultStorageAccountProvider.set_DashboardConnectionString(String value)</p> </blockquote>  <p>Is there any way to use SAS Token while creating configuration for JobHostConfiguration?</p>""",azure-storage
56563547,"need help to build and deploy ssis packages to Integration Services catalog <p>I was following this interesting post regarding building SSIs project on Devops. </p>  <ul> <li><a href=\http://www.msbiblog.com/2018/05/01/continuous-integration-for-bi-in-vsts-solution-folder-structure/#comment-4317\"" rel=\""nofollow noreferrer\"">Continuous Integration for BI in VSTS: Splitting Build Steps by Project Type</a></li> </ul>  <p>Building worked fine  but I also need to deploy the ispac file to either local Integration Services catalog or on an Azure SQL DB integration catalog.</p>  <p>The ssisbuild tool can be used in a PowerShell task on Azure Devops and building works fine. But when I try using ssisdeploy I got problems.</p>  <p>here is my code (I use nuget tasks to download SSISBuild so it can be run on building and deploy. Below you see my code. Actually I don't need to find all ispac files since I just have one SSIS project. Hope any one can help me out here</p>  <p>Regards Geir</p>  <pre><code>Get-ChildItem -Filter *.ispac -Recurse | Where-Object { -Not ($_.FullName -match \""obj\"") } | ForEach-Object {   &amp;\""$($env:BUILD_SOURCESDIRECTORY)\\SSISBuild.2.3.0\\tools\\ssisdeploy\"" $_.FullName -Catalog SSISDB -Folder Test -ProjectName Testproject     if ($LASTEXITCODE -ne 0) {     throw \""Build failed.\"";   } } </code></pre>""",azure-devops
54338197,"Azure function erroring on manual run but works fine on schedule <p>I have a daily scheduled function that is running happily and triggering each day and completing without error.</p>  <p>If I try to run that function manually it errors with an \Object reference not set to an instance of an object.\"" error.</p>  <p>It's a simple function that reads from an Azure SQL table and puts a few small json items onto a storage queue</p>  <p>If I set the SQL connection string and Storage connection string locally to match the deployed version and run through VS2017 it also runs without error</p>""",azure-functions
38901936,"Azure App Services - Google account Id's not matching <p>I'm testing out Azure App services to create a web / mobile app. I'm using xamarin.forms for mobile  App Services Mobile Services (C# server) for mobile access and 2 App Services Web Apps.</p>  <p>The server app and both web apps have been configured to use Google Auth  using the same Google Credentials as per the instructions here:</p>  <p><a href=\https://azure.microsoft.com/en-us/documentation/articles/app-service-mobile-how-to-configure-google-authentication/\"" rel=\""nofollow\"">https://azure.microsoft.com/en-us/documentation/articles/app-service-mobile-how-to-configure-google-authentication/</a></p>  <p>I'm trying to get the user ID for a logged in Google User  and on the web apps I get an ID in the format 112567911111837839502 (matches for both web app 1 and web app 2)  but when I login with the same Google account via mobile I get an ID in the format sid:dc7a23bc80cb2752822351cf5a111111 (both on the mobile client and the mobile server project) </p>  <p>The code I'm using in the web apps and the mobile server project to get the ID's is the same:</p>  <pre><code>var claimsPrincipal = this.User as ClaimsPrincipal;         string sid = claimsPrincipal.FindFirst(ClaimTypes.NameIdentifier).Value; </code></pre>  <p>Can anyone suggest a way to get matching IDs from Mobile and Web Apps? I had thought this would be one of the main ideas of Azure App Services </p>  <p>Thanks</p>  <p>Mark </p>""",azure-web-app-service
41075353,"Enable OAuth in PHP - Azure App Service <p>Good evening </p>  <p>We are working with some developers in the creation of one of our first apps  using Microsoft Azure Cloud hosting for the platform.</p>  <p>We are trying to get the bitly API to work from our server however we have been informed by our devs that they are unable to utilise this  with a suspect cause being that the OAuth module isn't listed within the info.php of the Azure App service with the files uploaded.  </p>  <p>What we are looking for is to enable the OAuth capabilities for the PHP web app  however we aren't sure how to reconfigure the environment with no root access to the base server (as a result of the Azure App service).  Normally we would utilise the PECL or YUM package for OAuth and then reconfigure it for php to be able to access it  however obviously this time we can't.</p>  <p>Wanted OAuth Configuration: <a href=\https://i.stack.imgur.com/sMoZA.png\"" rel=\""nofollow noreferrer\"">click for image</a></p>  <p>Can anyone help us enable the OAuth for this application?</p>  <p>Thanks!</p>""",azure-web-app-service
51626827,How to configure an existing web app and virtual network in azure using the ARM template <p>I have a created a Web app in the Azure portal and i also have a virtual network with a vnet gateway attached to the virtual network.</p>  <p>Is it possible to integrate the <strong>vnet</strong>(with existing gateway) to the <strong>Azure Web app</strong>. If so how to do this with the help of <strong>ARM Template</strong>??</p>  <p>Also how to <strong>integrate the virtual network to Azure Web App</strong> in case if the virtual network is in <strong>another Resource group</strong>???</p>,azure-web-app-service
55262632,"Terraform with Azure <p>How can i create a VM (diff SubscriptionID) using Customized Image (VHD) which is at different subscriptions storage account. Used this</p>  <pre><code>storage_os_disk {     name              = \${var.Servername}-os-disk\""     create_option     = \""FromImage\""     caching           = \""${var.disk_perm}\""     os_type           = \""${var.ostype}\""     vhd_uri           = \""https://myimages.blob.core.newone.net/myvhds/REDHAT7.vhd\"" } </code></pre>""",azure-virtual-machine
49310009,"VSTS: How to get release ID triggered by a build using REST API <p>I have a release definition in VSTS configured to trigger automatically based on when a particular build completes (and publishes an artifact). If I look at the build summary UI page in the browser  there's a section labeled \Deployments\"" that shows me the release definitions that were triggered due to that build completing. How can I use the VSTS REST API to query for the releases triggered due to a completed build (i.e. the information shown on that web page)? </p>  <p>I tried looking at the results of a REST query to get build details  e.g. https://{account}.visualstudio.com/DefaultCollection/{project-guid}/_apis/build/Builds/7420 but the JSON that comes back doesn't appear to mention the word \""release\"" or \""deployment\"" or \""environment\"" anywhere in it.</p>""",azure-devops
17381250,Not able to load Microsoft.WindowsAzure.ServiceRuntime  Version=1.8.0.0  ............. Local works fine <p>After publishing the cloud based application (web role) from visual studio  application gives following error on accessing the landing page.</p>  <p>Could not load file or assembly 'Microsoft.WindowsAzure.ServiceRuntime  Version=1.8.0.0  Culture=neutral  PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified.</p>  <p>Locally the same application works fine. I have kept the reference of Microsoft.WindowsAzure.ServiceRuntime Copy Local attribute to True in its property while publishing the site. </p>  <p>I am using AzureSDK 2.0 and have reference of all storage services of version 2.0 in the reference folder.</p>  <p>I also have following in my web.config file.                           </p>  <p>Still am getting the above error. Please suggest how to solve the issue. </p>,azure-storage
55912835,"How to fix error in function app publish through visual studio <p>I am running into problem when I try to publish the Azure function app from visual studio to Azure.</p>  <p>I picked a sample function from the predefined examples. It works well when I run the project locally in studio and I can invoke it thr' browser.</p>  <p>However  When I publish it using zip deployment through Studio  it always fails with below error:</p>  <blockquote>   <p><em>1>------ Build started: Project: FunctionApp1  Configuration: Release Any CPU ------   1>FunctionApp1 -> C:\\Users\\&lt;>\\source\\repos\\FunctionApp1\\bin\\Release\\netcoreapp2.1\\bin\\FunctionApp1.dll   2>------ Publish started: Project: FunctionApp1  Configuration: Release Any CPU ------   2>FunctionApp1 -> C:\\Users\\&lt;>\\source\\repos\\FunctionApp1\\bin\\Release\\netcoreapp2.1\\bin\\FunctionApp1.dll   2>FunctionApp1 -> C:\\Users\\&lt;>\\source\\repos\\FunctionApp1\\obj\\Release\\netcoreapp2.1\\PubTmp\\Out\\   2>Publishing C:\\Users\\&lt;>\\source\\repos\\FunctionApp1\\obj\\Release\\netcoreapp2.1\\PubTmp\\FunctionApp1 - 20190430110751931.zip to <a href=\https://functionapp120190430104807.scm.azurewebsites.net/api/zipdeploy\"" rel=\""nofollow noreferrer\"">https://functionapp120190430104807.scm.azurewebsites.net/api/zipdeploy</a>...   2><strong>The attempt to publish the ZIP file through <a href=\""https://functionapp120190430104807.scm.azurewebsites.net/api/zipdeploy\"" rel=\""nofollow noreferrer\"">https://functionapp120190430104807.scm.azurewebsites.net/api/zipdeploy</a> failed with HTTP status code RequestTimeout.</strong>   ========== Build: 1 succeeded  0 failed  0 up-to-date  0 skipped ==========   ========== Publish: 0 succeeded  1 failed  0 skipped ==========</em></p> </blockquote>  <p>What can I do to resolve this? I am a beginner in Azure  so please excuse me for any obvious thing missed.</p>  <p>Thanks !!</p>""",azure-functions
41694825,Removing yourself from Visual Studio Team Services Accounts <p>On my visualstudio.com dashboard it says I am a member to a Team Service Account. How can I remove myself? The project is long done and I don't want to see that anymore. I am not the owner and cannot contact him.</p>,azure-devops
28873578,Azure Storage Queue - long time to process <p>I need to generate quite a number of reports and a report can take about 5 minutes to be generated  large amount of data  many different sources.</p>  <p>The client will post messages to an Azure Storage Queue. There is a worker roles that processes the messages and generates the reports.</p>  <p>If I want to scale this up let's say I end up with 10 worker roles that will process the messages from the queue and generate the reports. Then I will add messages into the queue like this:</p>  <ul> <li>message 1: process reports from 1 - 5</li> <li>message 2: process reports from 6 - 11 ........</li> <li>message 10: process reports from 50 - 55 (might not be accurate the range)</li> </ul>  <p>If my worker role 1 will take the first message and put a lock on it but the process will take 5 minutes  the lock will expire and the message will be visible again in the queue so the worker role 2 will take it and start processing it ... and so forth </p>  <p>How can I avoid that consuming the queue message is done only once keeping in mind that the task is a long one?</p>,azure-storage
49684860,Azure Functions Consumption plan failover <p>If you're using Consumption plan for Azure Functions is there any kind of failover if your region goes down or hardware failure occurs? Hardware failure I'd assume yes  but for a region it doesn't seem like it since you can only choose one.</p>  <p>So if we really need multi-region failover are we limited to using App Service plan for Functions?</p>,azure-functions
48378891,How to run a remote Powershell in VSTS release only if script exists? <p>In VSTS release management there is a nice remote Powershell task where we can run a script on the target machine. However I'd need a way to tell the release managment that only run this file if it exists  otherwise silently ignore that.</p>  <p>I know I can configure a task to not block the process in case of error  however in that case there still will be an exclamation mark in the log and the deployment will get the partial succeeded status. I'd like to avoid this and show success even if the file doesn't exist.</p>  <p>With this I need it to support kind of optional setup scripts for several deployed products.</p>,azure-devops
55543402,"Error in using deployment when using xgboost in Azure App services <p>I am deploying a flask web app with machine learning model trained using xgboost. Working fine on local  giving error when using Azure App services linux machine.</p>  <p>It seems to not installing xgboost properly. I can't troubleshoot it either using their web SSH as it disconnects every few seconds. Any one has any idea how to fix it?</p>  <p>Error:</p>  <pre><code>2019-04-05T20:46:57.927633884Z /home/site/wwwroot/antenv/lib/python3.7/site-packages/sklearn/externals/joblib/externals/cloudpickle/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses 2019-04-05T20:46:57.927671786Z   import imp 2019-04-05T20:46:57.927678286Z [2019-04-05 20:46:57 +0000] [39] [ERROR] Exception in worker process 2019-04-05T20:46:57.927682786Z Traceback (most recent call last): 2019-04-05T20:46:57.927686887Z   File \/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/arbiter.py\""  line 583  in spawn_worker 2019-04-05T20:46:57.927691387Z     worker.init_process() 2019-04-05T20:46:57.927695487Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/workers/base.py\""  line 129  in init_process 2019-04-05T20:46:57.927700087Z     self.load_wsgi() 2019-04-05T20:46:57.927703987Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/workers/base.py\""  line 138  in load_wsgi 2019-04-05T20:46:57.927715888Z     self.wsgi = self.app.wsgi() 2019-04-05T20:46:57.927720188Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/app/base.py\""  line 67  in wsgi 2019-04-05T20:46:57.927724388Z     self.callable = self.load() 2019-04-05T20:46:57.927728188Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py\""  line 52  in load 2019-04-05T20:46:57.927732288Z     return self.load_wsgiapp() 2019-04-05T20:46:57.927736189Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py\""  line 41  in load_wsgiapp 2019-04-05T20:46:57.927740389Z     return util.import_app(self.app_uri) 2019-04-05T20:46:57.927744389Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/gunicorn/util.py\""  line 350  in import_app 2019-04-05T20:46:57.927748389Z     __import__(module) 2019-04-05T20:46:57.927752289Z   File \""/home/site/wwwroot/app.py\""  line 4  in  2019-04-05T20:46:57.927756789Z     import xgboost as xgb 2019-04-05T20:46:57.927760690Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/xgboost/__init__.py\""  line 11  in  2019-04-05T20:46:57.927764990Z     from .core import DMatrix  Booster 2019-04-05T20:46:57.927768990Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/xgboost/core.py\""  line 136  in  2019-04-05T20:46:57.927773190Z     _LIB = _load_lib() 2019-04-05T20:46:57.927776990Z   File \""/home/site/wwwroot/antenv/lib/python3.7/site-packages/xgboost/core.py\""  line 128  in _load_lib 2019-04-05T20:46:57.927781090Z     lib.XGBGetLastError.restype = ctypes.c_char_p 2019-04-05T20:46:57.927784991Z UnboundLocalError: local variable 'lib' referenced before assignment </code></pre>""",azure-web-app-service
50823783,"In azure functions using javascript how to call send request to a endpoint <p>In Azure function how to call an API using <strong>javascript</strong>. The request is POST with the header.I tried to use <strong>XMLHttpRequest</strong>  but i got exception like this XMLHttpRequest is not defined.</p>  <pre><code>var client = new XMLHttpRequest();     var authentication = 'Bearer ...'     var url = \http://example.com\"";     var data = '{.........}';      client.open(\""POST\""  url  true);     client.setRequestHeader('Authorization' authentication);      client.setRequestHeader('Content-Type'  'application/json');      client.send(data); </code></pre>  <p>Any other method is there to achive this </p>""",azure-functions
56722687,"Running azure Function blob trigger with APP service Plan <p>I have a function in Azure Functions  which should be triggered when a new blob is added to Blob Container.</p>  <p>My Azure Function is connected to App service plan and have a such a host.json:</p>  <pre><code>{   \version\"": \""2.0\""    \""extensions\"": {     \""queues\"": {       \""maxPollingInterval\"": \""00:00:02\""        \""visibilityTimeout\"": \""00:00:30\""        \""batchSize\"": 16        \""maxDequeueCount\"": 5        \""newBatchThreshold\"": 8     }   } } </code></pre>  <p>I have scale out my app service plan (from one instance to 15 instance)</p>  <p>My expectation is now  that each 15 instances VMs should work simultaneously and process 24 (batchSize plus newBatchThreshold) files from blob at a time. Bu as I see in my Live Metrics Stream only 2 of 15 VMs are active and process my files? by the way  I have enough files in my blobContainer (more than one million files). I mean I have enough load for VMs</p>  <p>My question is now  why another 13 VMs (instances) are Idle? What should I do to use the potential of all instances?</p>""",azure-functions
54462960,"Using authorization.json with Azure Functions breaks portal <p>I'm using Azure Functions and I'm using AAD for authentication. However  I have one function that uses an EventGrid trigger so I need to disable authentication for that one function. To achieve this I've set the auth settings in the function app to allow anonymous requests and I'm using an authorization.json file to switch on authentication for all functions except the one that I want to be anonymous.</p>  <p>If I use an authorization.json file like this  then when I go to the portal and click on one of the functions  I get an error saying that the function runtime is unable to start:</p>  <pre><code>{   \routes\"": [     {       \""path_prefix\"": \""/\""        \""policies\"": { \""unauthenticated_action\"": \""RejectWith401\"" }     }      {       \""path_prefix\"": \""/runtime/webhooks/EventGrid\""        \""policies\"": { \""unauthenticated_action\"": \""AllowAnonymous\"" }     }   ] } </code></pre>  <p>However  if I change it like so  the portal works again  but I assume that the admin endpoints will now all be wide open.</p>  <pre><code>{   \""routes\"": [     {       \""path_prefix\"": \""/\""        \""policies\"": { \""unauthenticated_action\"": \""RejectWith401\"" }     }      {       \""path_prefix\"": \""/runtime/webhooks/EventGrid\""        \""policies\"": { \""unauthenticated_action\"": \""AllowAnonymous\"" }     }      {       \""path_prefix\"": \""/admin\""        \""policies\"": { \""unauthenticated_action\"": \""AllowAnonymous\"" }     }   ] } </code></pre>  <p>How should I configure my authorization.json file such that everything is secure except the EventGrid function?</p>""",azure-functions
47399765,"Azure Logic App service bus message content <p>I have logic app that is triggered by a service bus.  The message content is not usable as it is just random characters.  I suspect that perhaps it needs to be parsed but it is not clear how to do this.</p>  <p>I have the following: <a href=\https://i.stack.imgur.com/m7YMy.png\"" rel=\""noreferrer\"">Not enough reputation to add an image - but screen shot from Azure</a></p>  <pre><code> \""Insert_Entity\"": {             \""inputs\"": {                 \""body\"": {                     \""PartitionKey\"": \""deviceID\""                      \""RowKey\"": \""@variables('curDate')\""                      \""content\"": \""@triggerBody()?['ContentData']\""                 }  </code></pre>  <p>When I look at the data that I am getting for the \""content\"" coming from the \""@triggerBody()?['ContentData']\"" it looks like this:</p>  <p>\""W3sidHlwZSI6ImxvZyJ9LF....\""  I deleted most of this as it 100's of characters long.</p>  <p>I suspect that this needs to be parsed or something to look at the actual message body.  I have checked this out but don't know where to insert code like this:  <a href=\""https://stackoverflow.com/questions/43796841/getting-content-from-service-bus-in-logic-apps\"">Getting content from service bus in logic apps</a></p>  <p>Can you please explain how to see the message body.</p>""",azure-web-app-service
48951983,"StackExchange.Redis issue in Azure Function (ResetNonConnected) <p>I have an Azure Function called by a Logic App and the goal of this function is to read an Azure Redis Cache to find a particular key. I use the StackExchange.Redis lib to read and write to the Redis cache.</p>  <p>The function can be called in parallel because multiple Logic App instances can be executed at the same time. I have sometimes (but not rarely) a \ResetNonConnected\"" error while reading the content of the Redis Cache and when I start having this issue  I need to stop and start the Function App to make the function working again.</p>  <p>The code of my function is very simple: I read a key (StringGet)  if it exists I compare it with a value I received as an input of my function. If the value received is greater than the one already in the cache of if the key is not in the cache  then I update the value in the cache (StringSet then KeyExpire).</p>  <p>Errors are not occurring during high load situation  I limited the number of instances of my Logic App to 10 in parallel  and I have this error.</p>  <p>Are there any known issues with this lib in an Azure function? What is the alternative to using a Redis Cache in an Azure function so to be sure that it will work just fine?</p>""",azure-functions
45917002,"Can't see any test results in VSTS build dashboard <p><strong>What I want</strong>: On VSTS' build dashboards I can typically see an overview of my executed test results like this:</p>  <p><a href=\https://i.stack.imgur.com/Vsk61.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/Vsk61.png\"" alt=\""enter image description here\""></a></p>  <p><strong>What I got</strong>: I have set up a new Core 2.0 build and go with pretty much the default build configuration:</p>  <p><a href=\""https://i.stack.imgur.com/vC2X5.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/vC2X5.png\"" alt=\""enter image description here\""></a></p>  <p><strong>All tests ran</strong>: My build logs report that all tests have been executed (four here in my sample setup):</p>  <blockquote>   <p>Build started  please wait... Build completed. Test run for   d:\\a\\3\\s***.Tests\\bin\\release\\netcoreapp2.0***.Platform.Tests.dll(.NETCoreApp Version=v2.0)   Microsoft (R) Test Execution Command Line Tool Version   15.3.0-preview-20170628-02 Copyright (c) Microsoft Corporation.  All rights reserved. Starting test execution  please wait... <strong>Total tests:   4. Passed: 4. Failed: 0. Skipped: 0. Test Run Successful.</strong> Test execution time: 2.7625 Seconds</p> </blockquote>  <p><strong>My problem</strong>: The build dashboards don't show me any test result:</p>  <p><a href=\""https://i.stack.imgur.com/Eg5aX.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/Eg5aX.png\"" alt=\""enter image description here\""></a></p>  <p><strong>Question</strong>: What am I doing wrong?</p>  <p><strong>Failed to do this</strong>:</p>  <ul> <li>I followed the advice \""Enable automated tests in your build definition by adding the Visual Studio Test task.\"" However  that didn't change a thing.</li> <li>A similar issue has been discussed here at SO (<a href=\""https://stackoverflow.com/questions/16099280/tfs-build-test-results\"">TFS Build Test Results</a>)  but it doesn't address my specific issue.</li> </ul>""",azure-devops
53229886,"How to set more than one cookie with Azure Functions? <p>When setting headers with Azure Functions  you pass an Object with the headerName as the key and the value as the header value.</p>  <p>However  when creating cookies each cookie needs its own \Set-Cookie\"" header  but an Object key needs to be unique. How should this be handled?</p>  <p>e.g. The following sets two object keys as \""Set-Cookie\""; which my IDE is blowing up as not possible.</p>  <pre><code>context.res = {           status: 200            headers: {               \""Content-Type\"": \""text/html\""                \""Set-Cookie\"": \""a=b; Secure; httpOnly; Path=/\""                \""Set-Cookie\"": \""b=c=\""; Secure; httpOnly; Path=/\""                \""Cache-Control\"": \""no-cache  no-store\""           }            body:               '&lt;HTML&gt;&lt;BODY&gt;RESPONSE&lt;/BODY&gt;&lt;/HTML&gt;'       }; context.done(); </code></pre>""",azure-functions
56735671,Migrating VSTS\TFVC code to Git DevOps on different domain <p>About 4-5 years ago  we made a free VSTS\TFVC account at visualstudio.com if i remember correctly. </p>  <p>We used our private email like hotmail to make the account. It was free for 5 users.</p>  <p>Recently microsfot did some renaming\rebradning  and called it now DevOps  not sure how all the terms work. </p>  <p>The problem is  now our company has its own DevOps which is somehow connected to the orginazitions sharepont\teams\etc.</p>  <p>We would now like to migrate our VSTS\TFVC code from the old account to our DevOps account which is connected to our orignization. We would like to transfer the VSTS\TFVC code to Git.</p>  <p>Is this possible?  we would ofcourse like to keep all the commits  comments  history  etc..</p>,azure-devops
51484312,"Application Insights TelemetryConfiguration.Active <p>Can someone help me understand what this property actually does please?</p>  <p>On this documentation: <a href=\https://docs.microsoft.com/en-us/azure/azure-functions/functions-monitoring#custom-telemetry-in-c-functions\"" rel=\""nofollow noreferrer\"">https://docs.microsoft.com/en-us/azure/azure-functions/functions-monitoring#custom-telemetry-in-c-functions</a></p>  <p>It clearly states:</p>  <pre><code> private static string key = TelemetryConfiguration.Active.InstrumentationKey =              System.Environment.GetEnvironmentVariable(                 \""APPINSIGHTS_INSTRUMENTATIONKEY\""  EnvironmentVariableTarget.Process); </code></pre>  <p>but then  <code>TelemetryConfiguration</code> is never used again... the <code>key</code> string is  as this is used to set the <code>InstumentationKey</code> when creating a <code>TelemetryClient()</code> i.e.</p>  <pre><code>  private static TelemetryClient telemetryClient =              new TelemetryClient() { InstrumentationKey = key }; </code></pre>  <p>This makes sense  but what does the TelemetryConfiguration do exactly?!</p>  <p>Re: Functions  what i want to do is have a central logging helper class  to which i can have a static TelemetryClient  and then set the following for each function using it...</p>  <pre><code>x.Context.Cloud.RoleName = \""myRole\""; x.Context.Operation.Id = executionContext.InvocationId.ToString(); </code></pre>  <p>should x be set at a <code>TelemetryClient</code> object  or the actual <code>Telemetry</code> object being logged..</p>  <p>Ty.</p>""",azure-functions
50864047,"VS2017 Azure Functions v2 - Test Project not picking up changes from referenced project  without manually building <p>I am trying to write some tests for azure functions v2 and am running into some difficulties in that VS2017 does not seem to pick up changes in my azure function project  in my test project  without me rebuilding the project manually.</p>  <p><a href=\https://github.com/swissarmykirpan/AzureFunctionIssue\"" rel=\""nofollow noreferrer\"">https://github.com/swissarmykirpan/AzureFunctionIssue</a></p>  <p>Maybe it's just my machine??</p>  <p>Try adding an additional method onto the <code>Hello</code> class and see if the unit test class can pick up the new method.</p>  <p>Also  if you go to definition on the <code>Hello</code> class from the test project  it does not go to the source file  but decompiled metadata instead.</p>  <p>HELP!</p>  <p>Thanks in advance :)</p>""",azure-functions
35813575,Unable to deploy web app from Visual Studio <p>I'm trying to deploy an Azure web app using Visual Studio  but am receiving the following error. I've deployed this app and many others without problems in the past.</p>  <pre><code>Web deployment task failed. ((5/3/2016 9:40:16 PM) An error occurred when the request was processed on the remote computer.)  (5/3/2016 9:40:16 PM) An error occurred when the request was processed on the remote computer. An error was encountered when processing operation 'Create File' on 'D:\home\site\wwwroot\ApplicationInsights.config'. The error code was 0x80070013. The media is write protected.    at Microsoft.Web.Deployment.NativeMethods.RaiseIOExceptionFromErrorCode(Win32ErrorCode errorCode  String maybeFullPath)   at Microsoft.Web.Deployment.FileStreamEx.CreateInstance(String path  FileMode fileMode  FileAccess fileAccess  FileShare fileShare  Nullable`1 fileLength)   at Microsoft.Web.Deployment.FilePathProviderBase.Add(DeploymentObject source  Boolean whatIf)  </code></pre>  <p>I'm getting the error on all my web apps  what could be wrong?</p>,azure-web-app-service
51903710,"Service Bus Output Bindings Throwing Error in both Azure and Local Testing <p>So I have the following function header:</p>  <pre><code> [FunctionName(\listenServiceBus\"")]         public static void Run([ServiceBusTrigger(\""metadataingest\""  AccessRights.Manage  Connection = \""ServiceBus\"")]string mySbMsg          ExecutionContext context  [ServiceBus(\""successqueue\""  Connection = \""DEVservicebus\""  EntityType = Microsoft.Azure.WebJobs.ServiceBus.EntityType.Queue)]out string outputSuccess          [ServiceBus(\""failqueue\""  Connection = \""DEVservicebus\""  EntityType = Microsoft.Azure.WebJobs.ServiceBus.EntityType.Queue)]out string outputFailure  ILogger Log) </code></pre>  <p>Where I bind to two separate Service Buses for input and outputs of the function. My function.json file looks like the following:</p>  <pre><code>{  \""bindings\"": [ {   \""type\"": \""serviceBusTrigger\""    \""connection\"": \""ServiceBus\""    \""queueName\"": \""metadataingest\""    \""accessRights\"": \""manage\""    \""name\"": \""mySbMsg\"" }  {   \""name\"": \""outputSuccess \""    \""type\"": \""serviceBus\""    \""queueName\"": \""successqueue\""    \""connection\"": \""DEVservicebus\""    \""direction\"": \""out\"" }  {   \""name\"": \""outputFailure\""    \""type\"": \""serviceBus\""    \""queueName\"": \""failqueue\""    \""connection\"": \""DEVservicebus\""    \""direction\"": \""out\"" }   ] ... </code></pre>  <p>I am getting the following errors:</p>  <pre><code>No job functions found. Try making your job classes and methods public. If  you're using binding extensions (e.g. ServiceBus  Timers  etc.) make sure  you've called the registration method for the extension(s) in your startup  code (e.g. config.UseServiceBus()  config.UseTimers()  etc.). </code></pre>  <p>And:</p>  <pre><code>listenServiceBus: The binding name outputSuccess  is invalid. Please assign  a valid name to the binding. </code></pre>  <p>I am currently running .Net.Sdk.Function 1.0.12.Anyone know any workarounds?</p>""",azure-functions
21578376,SQL Server Database to share with team? <p>I'm looking for a method to share SQL Server Database's structures and their contents/datas with the team? We're currently using TFS 2013. If it's the case we can switch to SVN/GIT etc  too.</p>  <p>Thanks in advance.</p>,azure-devops
56722435,"Executing a process from azure app service <p>I'm running a process to generate c# classes using GRPC tool from proto file. The code works fine on my development machine but once deployed on azure the process runs but returns a <code>ExitCode = -1073740791</code> and the output is string empty.</p>  <p>I've logged the command I execute and if I try to execute in <code>Kudu</code> console it works fine and the c# files are generated as expected.</p>  <p>The command looks like:</p>  <pre><code>Tools\\bin\\tools\\windows_x86\\protoc.exe  -ID:\\local\\LocalAppData\\GrpcTester\\0969261f-bfa7-45a8-bba1-7e1ccd3818e7\\protos  --csharp_out=D:\\local\\LocalAppData\\GrpcTester\\0969261f-bfa7-45a8-bba1-7e1ccd3818e7\\csharpfiles  --grpc_out=D:\\local\\LocalAppData\\GrpcTester\\0969261f-bfa7-45a8-bba1-7e1ccd3818e7\\csharpfiles  --plugin=protoc-gen-grpc=\Tools\\bin\\tools\\windows_x86\\grpc_csharp_plugin.exe\""  D:\\local\\LocalAppData\\GrpcTester\\0969261f-bfa7-45a8-bba1-7e1ccd3818e7\\protos\\mobile_backend.proto </code></pre>  <pre><code>private bool GenerateGRPCCSharpFiles(TestProject testProject)         {             bool succes = false;             var outputFolder = WorkspaceManager.GetProjectSubFolder(testProject.Id.ToString()  WorkspaceManager.CSharpFilesPath);             var protoFilesFolder = WorkspaceManager.GetProjectSubFolder(testProject.Id.ToString()  WorkspaceManager.ProtosPath);               // Install tools             RequireTools().Wait();              var protoc = ProtocPath();             var plugin = ProtocPluginPath();             logger.LogDebug($\""GenerateGRPCCSharpFiles : protoc: {protoc}\"");             logger.LogDebug($\""GenerateGRPCCSharpFiles : plugin: {plugin}\"");              //string protocol = Path.Combine(protoFilesFolder  protoFiles.FirstOrDefault().FileName);             string protocol = Directory.GetFiles(protoFilesFolder).FirstOrDefault();              var command = new string[]             {                 $\""-I{protoFilesFolder}\""                  $\""--csharp_out={outputFolder}\""                  $\""--grpc_out={outputFolder}\""                  $\""--plugin=protoc-gen-grpc=\\\""{plugin}\\\""\""                  protocol              };               try             {                 using (Process process = new Process())                 {                     process.StartInfo.UseShellExecute = false;                     process.StartInfo.FileName = protoc;                     process.StartInfo.Arguments = string.Join(' '  command);                     process.StartInfo.CreateNoWindow = true;                     process.StartInfo.RedirectStandardOutput = true;                      process.Start();                     process.WaitForExit();                      using (var streamReader = new StreamReader(process.StandardOutput.BaseStream))                     {                         var response = streamReader.ReadToEnd();                         logger.LogDebug($\""GenerateGRPCCSharpFiles: Completed output: {response.ToString()}\"");                     }                      succes = process.ExitCode == 0;                  };             }             catch (Exception ex)             {                 throw ex;             }              return succes;         } </code></pre>""",azure-web-app-service
54826852,"Azure Functions table binding not being created when developing locally <p>I'm attempting to use an output table binding with an Azure Function V2 (node).</p>  <p>I have added the table binding to <em>function.json</em>  as described in the <a href=\https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-table#output---javascript-example\"" rel=\""nofollow noreferrer\"">documentation</a>.</p>  <pre><code>{     \""tableName\"": \""Person\""      \""connection\"": \""MyStorageConnectionAppSetting\""      \""name\"": \""tableBinding\""      \""type\"": \""table\""      \""direction\"": \""out\"" } </code></pre>  <p>And then I am attempting to insert some content in to that table  again using the example as described in the <a href=\""https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-table#output---javascript-example\"" rel=\""nofollow noreferrer\"">documentation</a>.</p>  <pre><code>for (var i = 1; i &lt; 10; i++) {     context.bindings.tableBinding.push({         PartitionKey: \""Test\""          RowKey: i.toString()          Name: \""Name \"" + i     }); } </code></pre>  <p>To confirm - I have also added a setting called <code>MyStorageConnectionAppSetting</code> in to <em>local.settings.json</em>  with a valid Storage Account connection string as it's value.</p>  <p>Sadly though  this is failing and I'm seeing the following error -</p>  <blockquote>   <p>System.Private.CoreLib: Exception while executing function: Functions.config. System.Private.CoreLib: Result: Failure<br>   Exception: TypeError: Cannot read property 'push' of undefined</p> </blockquote>  <p>It seems that the binding object has not be created as expected  but I have no idea why.</p>  <p>The package <strong>Microsoft.Azure.WebJobs.Extensions.Storage</strong> is included in <em>extensions.csproj</em>  and the Function App starts just fine when I call <code>func start</code>.</p>  <p>Although I believe that no connection to the Storage Account is taking place  I did try to run my function both when the Table existed  and when it didn't.</p>""",azure-functions
39929962,"Create pull request from specific commit via VS team services <p>I am trying to create a pull request from specific commit. Is it possible?</p>  <p><strong>Detail:</strong></p>  <p>There is commit c1  c2  c3 in branch b1  and commit c3 is also in branch b2. Create a pull request to merge commit c2 into branch b2. </p>  <p>My failed attempts: </p>  <ul> <li>Create a new branch from specific commit  couldn't find any VS team services API for this.</li> <li>Create a tag on specific commit  don't know how to  only found <a href=\https://www.visualstudio.com/en-us/docs/integrate/api/git/refs#just-tags\"" rel=\""nofollow\"">get tag api</a>.</li> <li>Build a temporary branch b3 from b2  cherry-pick commit c2 to b3 and create pull request from b3 to b2. I don't see any way to pick a existing commit to a branch from <a href=\""https://www.visualstudio.com/en-us/docs/integrate/api/git/pushes#multiple-changes\"" rel=\""nofollow\"">official document.</a></li> </ul>""",azure-devops
15026680,Mongodb worker role throws System.IO.FileNotFoundException <p>I have an Azure cloud project which makes use of mongodb worker roles. When running in the local emulator everything works fine  however when I deploy to an Azure staging area  the mongodb worker roles are stuck cycling and show a System.IO.FileNotFoundException. I connected to one of the virtual machines remotely and looked at the event viewer and found the following error:</p>  <blockquote>   <p>An unhandled exception occurred. Type: System.IO.FileNotFoundException   Process ID: 1936 Process Name: WaWorkerHost Thread ID: 4 AppDomain   Unhandled Exception for role MongoDB.WindowsAzure.MongoDBRole_IN_0   Exception: Could not load file or assembly 'mswacdmi  Version=1.7.0.0    Culture=neutral  PublicKeyToken=31bf3856ad364e35' or one of its   dependencies. The system cannot find the file specified.    at   Microsoft.WindowsAzure.StorageClient.CloudDrive..ctor(Uri uri    StorageCredentials credentials)    at   Microsoft.WindowsAzure.StorageClient.CloudStorageAccountCloudDriveExtensions.CreateCloudDrive(CloudStorageAccount   storageAccount  String pageBlobUri)    at   MongoDB.WindowsAzure.MongoDBRole.Utilities.GetMountedPathFromBlob(String   localCachePath  String cloudDir  String containerName  String   blobName  Int32 driveSize  CloudDrive&amp; mongoDrive) in   c:\Users\Matt\Software\AzurePrototype1\mongo-azure-master\src\MongoDB.WindowsAzure.MongoDBRole\Utilities.cs:line   78    at   MongoDB.WindowsAzure.MongoDBRole.MongoDBRole.GetMongoDataDirectory()   in c:\Users\Matt\Software\AzurePrototype1\mongo-azure-master\src\MongoDB.WindowsAzure.MongoDBRole\MongoDBRole.cs:line 255    at MongoDB.WindowsAzure.MongoDBRole.MongoDBRole.StartMongoD()   in c:\Users\Matt\Software\AzurePrototype1\mongo-azure-master\src\MongoDB.WindowsAzure.MongoDBRole\MongoDBRole.cs:line 201    at MongoDB.WindowsAzure.MongoDBRole.MongoDBRole.OnStart() in   c:\Users\Matt\Software\AzurePrototype1\mongo-azure-master\src\MongoDB.WindowsAzure.MongoDBRole\MongoDBRole.cs:line 91    at   Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment.InitializeRoleInternal(RoleType   roleTypeEnum)    at   Microsoft.WindowsAzure.ServiceRuntime.Implementation.Loader.RoleRuntimeBridge.b__0()   at System.Threading.ExecutionContext.Run(ExecutionContext   executionContext  ContextCallback callback  Object state  Boolean   ignoreSyncCtx)    at   System.Threading.ExecutionContext.Run(ExecutionContext   executionContext  ContextCallback callback  Object state)    at   System.Threading.ThreadHelper.ThreadStart()</p> </blockquote>  <p>Why does this work locally and not on Azure? I don't understand much about assemblies and such  but I am learning as I go along. One of the things suggested online is to check the properties of references assemblies and set 'Copy Local' to true  I have tried this but still the same error.</p>,azure-storage
52618686,"Azure Function. Read Only after publishing <p>Am I doing something wrong or is this a bug in the portal/VS 2017 publish process? For a long time my azure functions were running fine and then I made a trivial change to a function and republished. The whole application went 'Read Only' in the portal. </p>  <p><a href=\https://i.stack.imgur.com/CUkfs.jpg\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/CUkfs.jpg\"" alt=\""enter image description here\""></a></p>  <p>The only solution I currently have is to go into the 'App Service Editor' in the portal and remove the 'generated by' entry... \""generatedBy\"": \""Microsoft.NET.Sdk.Functions-1.0.0.0\"" After doing this the function app appears to be stable.</p>  <p>Is there something I'm doing wrong with my publish or is this just a bug in the Azure function environment? It appears to be a new issue.</p>  <p>Answered : No real problem. Thanks David Ebbo  I think the issue I had was with something else in the function. I thought it was because it was 'Read Only' but looking at it now it appears to be running Ok as a 'Read Only'. </p>""",azure-functions
35808397,"VSTS - BoardColumn does not work in Queries <p>In VSTS Online  using BoardColumn as a Query Criteria  or using it as a Column in Query Results  does not work.</p>  <p>For instance  we have custom columns  beginning with Committed  and progressing through additional states. It seems that the system only allows us to query using out-of-the-box column names  that match State values.</p>  <p>If I query for BoardColumn = Committed  the query returns Work Items that are in the Committed Column  or any of the subsequent columns  and the displayed value for BoardColumn in the query results simply says \Committed\""  because that is the State value on those Work Items.</p>  <p>Additionally  using one of the custom columns  such as \""In QA\""  as a criteria value for Board Column  returns zero results  even though there are Work Items in that column.</p>  <p>This does not make sense. Why does the query functionality not actually look at the BoardColumn value when querying? Why does the query result display State instead of BoardColumn?</p>""",azure-devops
49019306,SQL Server on Azure VM Slow Network <p>I'm running  SQL Server on Azure VM (Size DS_15).  The server is extremely fast.  My queries are extremely fast.</p>  <p>When I run my application (it's legacy VB 6) from another Azure VM it's extremely fast.  When I run the same application and same identical queries from outside of the Azure DataCenter it's at least 10-15 seconds slower.  I'm using ODBC Data Sources (again  it's legacy) but can't seem to do anything to speed up the connections.</p>  <p>When the slow connections are running SQL Profiler just spits out the same extremely fast data points.  I'm struggling to find where to look next to try to speed these connections up?</p>  <p>When I run some of the trouble queries manually in SSMS with STATS on they return in 0  0  and 4 ms.  The same queries when ran through the app are taking 140  130  and 280ms.</p>,azure-virtual-machine
48405586,"Can not communicate between subnets in the same virtual network <p>Not sure what is exactly happening since it was always working before but VMs on different subnets within the same virtual network with no NSGs or firewalls between them can not talk to each other. Ping is failing as well as any other sort of communication. Firewalls are disabled on both sides. All machines have access to internet. Communication was tried using IP addresses and not names. Both ping as well as TCP based tests were used.</p>  <p><a href=\https://i.stack.imgur.com/1UBHA.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/1UBHA.png\"" alt=\""enter image description here\""></a></p>  <p>Effective route for app01 for example is below <a href=\""https://i.stack.imgur.com/dgBZU.png\"" rel=\""nofollow noreferrer\""><img src=\""https://i.stack.imgur.com/dgBZU.png\"" alt=\""enter image description here\""></a></p>""",azure-virtual-machine
